<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personeller</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
* {
    box-sizing: border-box;
}

body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f9;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.filters {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
    flex-wrap: wrap;
}

.filter-input {
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ddd;
    font-size: 16px;
}

.personel-list {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
}

.personel-card {
    background-color: white;
    border-radius: 12px;
    padding: 20px;
    width: 200px;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.personel-card:hover {
    background-color: #f1f1f1;
}

.personel-photo, .personel-photo-large {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    object-fit: cover;
    margin-bottom: 10px;
}

.modal {
    display: none;
    position: fixed;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background-color: white;
    padding: 20px;
    width: 90%;
    max-width: 900px;
    max-height: 90vh;
    border-radius: 12px;
    overflow-y: auto;
    position: relative;
}

.close-btn {
    position: absolute;
    top: 10px;
    right: 20px;
    font-size: 24px;
    cursor: pointer;
}

.personel-info-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.personel-photo-large {
    width: 120px;
    height: 120px;
    margin-left: 20px;
}

.personel-basic-info {
    display: flex;
    flex-direction: column;
    gap: 5px;
    text-align: left;
}

.personel-basic-info h2 {
    margin: 0;
    font-size: 28px;
    font-weight: bold;
}

.personel-basic-info p {
    margin: 0;
    font-size: 16px;
}

.personel-basic-info p span {
    font-weight: bold;
}

.card {
    background-color: #f9f9f9;
    border: 1px solid #ddd;
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 20px;
}

.box {
    margin-bottom: 15px;
}

.box h4 {
    margin-bottom: 10px;
    font-size: 18px;
    font-weight: bold;
}

.box p {
    margin: 5px 0;
}

a {
    color: #24d6b6;
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

.tabs {
    display: flex;
    gap: 15px;
    margin-bottom: 20px;
}

.tab {
    padding: 10px;
    background-color: #f0f0f0;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
}

.tab.active {
    background-color: #24d6b6;
    color: white;
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

.file-input {
    display: none;
}

.drag-drop-area {
    border: 2px dashed #ddd;
    border-radius: 8px;
    text-align: center;
    padding: 20px;
    cursor: pointer;
    transition: border-color 0.3s ease;
}

.drag-drop-area:hover {
    border-color: #24d6b6;
}

.file-list {
    margin-top: 10px;
}

.file-list p {
    margin: 0;
    padding: 5px;
    border-bottom: 1px solid #ddd;
    font-size: 14px;
    color: #333;
}

.btn {
    padding: 10px 15px;
    border-radius: 5px;
    cursor: pointer;
}

.save-btn {
    background-color: #28a745;
    color: white;
}

.cancel-btn {
    background-color: #dc3545;
    color: white;
}

@media screen and (max-width: 768px) {
    .form-group-row {
        flex-direction: column;
    }
    .modal-content {
        max-width: 90%;
    }
}
.salary-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

.salary-table th, .salary-table td {
    padding: 10px;
    border: 1px solid #ddd;
    text-align: center;
}

.salary-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

.salary-table th, .salary-table td {
    padding: 10px;
    border: 1px solid #ddd;
    text-align: center;
}

/* Genel ayarlar */
* {
    box-sizing: border-box;
}

body {
    font-family: Arial, sans-serif;
    background-color: #f4f4f9;
    margin: 0;
    padding: 0;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

/* Genel Modal Ayarları */
.modal {
    display: none;
    position: fixed;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background-color: white;
    padding: 20px;
    width: 90%;
    max-width: 600px;
    border-radius: 12px;
    overflow-y: auto;
    max-height: 90vh;
    position: relative;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.close-btn {
    position: absolute;
    top: 10px;
    right: 20px;
    font-size: 24px;
    cursor: pointer;
    color: #333;
}

.close-btn:hover {
    color: #dc3545;
}

/* Form Ayarları */
.form-group {
    margin-bottom: 15px;
}

.form-group label {
    font-weight: bold;
    margin-bottom: 5px;
    display: inline-block;
}

.form-group input, .form-group select, .form-group textarea {
    width: 100%;
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #ddd;
    transition: border-color 0.3s ease;
}

.form-group input:focus, .form-group select:focus, .form-group textarea:focus {
    border-color: #24d6b6;
    outline: none;
}

.modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}

/* Buton Ayarları */
.btn {
    padding: 10px 15px;
    border-radius: 5px;
    cursor: pointer;
    border: none;
    font-size: 16px;
}

.save-btn {
    background-color: #28a745;
    color: white;
}

.cancel-btn {
    background-color: #dc3545;
    color: white;
}

.btn:hover {
    opacity: 0.9;
}

/* Maaş ve Avans Butonları */
.salary-buttons {
    display: flex;
    justify-content: flex-start;
    gap: 10px;
    margin-bottom: 20px;
}

/* Tablo Ayarları */
table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

table th, table td {
    padding: 12px;
    text-align: center;
    border: 1px solid #ddd;
}

table th {
    background-color: #24d6b6;
    color: white;
}

.salary-table td a {
    color: #24d6b6;
    text-decoration: none;
    font-size: 20px;
}

.salary-table td a:hover {
    color: #007bff;
}

/* Drag & Drop Dosya Yükleme */
.drag-drop-area {
    border: 2px dashed #ddd;
    border-radius: 8px;
    text-align: center;
    padding: 20px;
    cursor: pointer;
    transition: border-color 0.3s ease;
    margin-top: 10px;
}

.drag-drop-area:hover {
    border-color: #24d6b6;
}

.file-input {
    display: none;
}
.photo-upload {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    margin-bottom: 20px;
}

.photo-frame {
    border: 2px dashed #ddd;
    width: 120px;
    height: 120px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: border-color 0.3s ease;
    position: relative;
}

.photo-frame img {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    object-fit: cover;
}

.photo-frame:hover {
    border-color: #24d6b6;
}

.upload-icon {
    font-size: 24px;
    color: #24d6b6;
    position: absolute;
    bottom: -20px;
}
      .tabs {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
}

.tab {
    padding: 10px;
    background-color: #f0f0f0;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
}

.tab.active {
    background-color: #24d6b6;
    color: white;
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

.puantaj-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

.puantaj-table th, .puantaj-table td {
    padding: 10px;
    border: 1px solid #ddd;
    text-align: center;
}

.btn {
    padding: 10px 15px;
    border-radius: 5px;
    cursor: pointer;
    border: none;
    font-size: 16px;
    background-color: #24d6b6;
    color: white;
    margin-top: 10px;
}

.export-btn {
    margin-right: 10px;
}

.form-group {
    margin-bottom: 15px;
}

.form-group label {
    display: block;
    font-weight: bold;
    margin-bottom: 5px;
}

.form-control {
    width: 100%;
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #ddd;
}

.form-control:focus {
    border-color: #24d6b6;
    outline: none;
}

/* Mobil Uyum */
@media screen and (max-width: 768px) {
    .modal-content {
        max-width: 90%;
    }
}

    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>Personeller</h1>
        <button id="addPersonBtn" class="btn add-btn">+ Personel Ekle</button>

        <!-- Filtreleme Alanı -->
        <div class="filters">
            <input type="text" id="searchName" class="filter-input" placeholder="Ad Soyad Ara">
            <select id="filterDepartment" class="filter-input">
                <option value="">Departman Seçin</option>
                <option value="Yönetim">Yönetim</option>
                <option value="Ahşap Kalıp">Ahşap Kalıp</option>
                <option value="Tünel Kalıp">Tünel Kalıp</option>
                <option value="Demir">Demir</option>
                <option value="Yemekhane">Yemekhane</option>
                <option value="Kule Vinç">Kule Vinç</option>
                <option value="Yardımcı">Yardımcı</option>
                <option value="Beton">Beton</option>
                <option value="Elektrik">Elektrik</option>
            </select>
            <select id="filterPosition" class="filter-input">
                <option value="">Pozisyon Seçin</option>
                <option value="Usta">Usta</option>
                <option value="İşçi">İşçi</option>
                <option value="Mühendis">Mühendis</option>
                <option value="Muhasebe">Muhasebe</option>
                <option value="Harita">Harita</option>
            </select>
        </div>
    </header>

    <!-- Personel Listesi -->
    <div class="personel-list" id="personelList">
        <!-- Personeller buraya dinamik olarak eklenecek -->
    </div>

    <!-- Personel Ekleme Modalı -->
    <div class="modal" id="addPersonModal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('addPersonModal')">&times;</span>
            <h2>Personel Ekle</h2>
            <form id="addPersonForm" enctype="multipart/form-data">
                <!-- Fotoğraf Yükleme Alanı -->
                <div class="form-group photo-upload">
                    <label for="profilePicture" class="photo-frame">
                        <img id="profilePreview" src="https://www.pngitem.com/pimgs/m/81-819673_construction-workers-safety-icons-health-and-safety-policy.png" alt="Fotoğraf Önizlemesi">
                        <i class="fas fa-upload upload-icon"></i>
                    </label>
                    <input type="file" id="profilePicture" name="profilePicture" accept="image/*" class="form-control-file" style="display: none;">
                </div>

                <!-- Pasaport No, Ad, Soyad -->
                <div class="form-group-row">
                    <div class="form-group">
                        <label for="passportNo">Pasaport No</label>
                        <input type="text" id="passportNo" name="passportNo" class="form-control" placeholder="Pasaport No" required>
                    </div>
                    <div class="form-group">
                        <label for="firstName">Adı</label>
                        <input type="text" id="firstName" name="firstName" class="form-control" placeholder="Adı" required>
                    </div>
                    <div class="form-group">
                        <label for="lastName">Soyadı</label>
                        <input type="text" id="lastName" name="lastName" class="form-control" placeholder="Soyadı" required>
                    </div>
                </div>

                <!-- Doğum Tarihi, Uyruğu, Telefon -->
                <div class="form-group-row">
                    <div class="form-group">
                        <label for="dob">Doğum Tarihi</label>
                        <input type="date" id="dob" name="dob" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="nationality">Uyruğu</label>
                        <select id="nationality" name="nationality" class="form-control" required>
                            <option value="">Seçiniz</option>
                            <option value="TR">Türkiye</option>
                            <option value="IQ">Irak</option>
                            <option value="SY">Suriye</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="phoneNumber">Telefon Numarası</label>
                        <input type="tel" id="phoneNumber" name="phoneNumber" class="form-control" placeholder="Telefon Numarası" required>
                    </div>
                </div>

                <!-- Departman, Pozisyon -->
                <div class="form-group-row">
                    <div class="form-group">
                        <label for="department">Departmanı</label>
                        <select id="department" name="department" class="form-control" required>
                            <option value="">Seçiniz</option>
                            <option value="Yönetim">Yönetim</option>
                            <option value="Ahşap Kalıp">Ahşap Kalıp</option>
                            <option value="Tünel Kalıp">Tünel Kalıp</option>
                            <option value="Demir">Demir</option>
                            <option value="Yemekhane">Yemekhane</option>
                            <option value="Kule Vinç">Kule Vinç</option>
                            <option value="Yardımcı">Yardımcı</option>
                            <option value="Beton">Beton</option>
                            <option value="Elektrik">Elektrik</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="position">Pozisyonu</label>
                        <select id="position" name="position" class="form-control" required>
                            <option value="">Seçiniz</option>
                            <option value="Usta">Usta</option>
                            <option value="İşçi">İşçi</option>
                            <option value="Mühendis">Mühendis</option>
                            <option value="Muhasebe">Muhasebe</option>
                            <option value="Harita">Harita</option>
                        </select>
                    </div>
                </div>

                <!-- Ücret Kutusu -->
                <div class="salary-box">
                    <div class="form-group">
                        <label>Ücret Seçimi</label>
                        <div class="salary-type">
                            <label><input type="radio" name="salaryType" value="yevmiye" required> Yevmiye</label>
                            <label><input type="radio" name="salaryType" value="maas" required> Maaş</label>
                        </div>
                    </div>

                    <div class="form-group-row">
                        <div class="form-group">
                            <label for="dailyWage">Günlük Ücret</label>
                            <input type="number" id="dailyWage" name="dailyWage" class="form-control" placeholder="Günlük Ücret" step="0.01">
                        </div>
                        <div class="form-group">
                            <label for="hourlyWage">Saatlik Ücret</label>
                            <input type="number" id="hourlyWage" name="hourlyWage" class="form-control" placeholder="Saatlik Ücret" step="0.01">
                        </div>
                        <div class="form-group currency-group">
                            <label>Para Birimi</label>
                            <div>
                                <label><input type="radio" name="currency" value="USD" checked> Dolar</label>
                                <label><input type="radio" name="currency" value="IQD"> IQD</label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Gelişmiş Dosya Yükleme Alanı -->
                <div class="form-group">
                    <label for="documentType">Belge Türü Seçin</label>
                    <select id="documentType" class="form-control">
                        <option value="">Belge Türü Seçiniz</option>
                        <option value="Kimlik Ön Yüz">Kimlik Ön Yüz</option>
                        <option value="Pasaport">Pasaport</option>
                        <option value="Oturum Belgesi">Oturum Belgesi</option>
                    </select>

                    <div id="dragDropArea" class="drag-drop-area">
                        <p>Belgeleri buraya sürükleyin ya da tıklayarak yükleyin.</p>
                        <input type="file" id="documents" name="documents" multiple class="file-input" style="display: none;">
                    </div>

                    <div id="fileList" class="file-list"></div>
                </div>

                <div class="modal-footer">
                    <button type="submit" class="btn save-btn">Kaydet</button>
                    <button type="button" class="btn cancel-btn" onclick="closeModal('addPersonModal')">İptal</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Personel Kartı (Personel Detayları Modalı) -->
</div>
    <div class="modal" id="personelDetailsModal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal('personelDetailsModal')">&times;</span>

        <div class="personel-info-header">
            <div class="personel-basic-info">
                <h2 id="personelName">Ahmet Yılmaz</h2>
                <p><span>Departman:</span> <span id="personelDepartment">Yönetim</span></p>
                <p><span>Pozisyon:</span> <span id="personelPosition">Usta</span></p>
            </div>
            <img id="personelPhoto" src="https://www.pngitem.com/pimgs/m/81-819673_construction-workers-safety-icons-health-and-safety-policy.png" alt="Personel Fotoğrafı" class="personel-photo-large">
        </div>

        <!-- Tablar -->
        <div class="tabs">
            <div class="tab active" data-tab="personelBilgileri">Personel Bilgileri</div>
            <div class="tab" data-tab="ucretYonetimi">Ücret Yönetimi</div>
            <div class="tab" data-tab="puantajYonetimi">Puantaj Yönetimi</div>
        </div> 



        <!-- Personel Bilgileri Tabı -->
        <div class="tab-content active" id="personelBilgileri">
            <div class="card">
                <h3>Personel Bilgileri</h3>
                <div class="card-box">
                    <div class="box">
                        <h4>Genel Bilgiler</h4>
                        <p>Pasaport No: A123456</p>
                        <p>Uyruğu: Türkiye</p>
                        <p>Doğum Tarihi: 1985-03-12</p>
                        <p>Telefon Numarası: +90 555 123 4567</p>
                        <p>Ücret Tipi: Maaş</p>
                        <p>Günlük Ücret: 200₺</p>
                        <p>Saatlik Ücret: 25₺</p>
                        <p>Para Birimi: ₺</p>
                    </div>
                    <div class="box">
                        <h4>Belgeler</h4>
                        <p>Pasaport: <a href="#">İndir</a></p>
                        <p>Oturum Belgesi: <a href="#">İndir</a></p>
                    </div>


 

                        <!-- Ücret özeti grafiği buraya gelecek -->
                    </div>
                    <div class="box">
                        <h4>Ücretler Grafiği</h4>
                        <!-- 12 aylık maaş grafiği buraya gelecek -->
                    </div>
                </div>
                <div style="margin-top: 20px;">
                    <button class="btn" onclick="editPerson()">Düzenle</button>
                    <button class="btn danger" onclick="openModal('istenAyrilmaModal')">İşten Ayrıl</button>
                </div>
            </div>


        <!-- Ücret Yönetimi Tabı -->
        <div class="tab-content" id="ucretYonetimi">
            <div class="card">
                <h3>Ücret Yönetimi</h3>
                <!-- Ücret Yönetimi içeriği burada olacak -->
<!-- Ücret Yönetimi Tabı -->
  <!-- Maaş Oluştur Butonu -->
        <button class="btn" onclick="openModal('maasOlusturModal')">Maaş Oluştur</button>

        <!-- Maaş Öde Butonu -->
        <button class="btn" onclick="openModal('maasOdeModal')">Maaş Öde</button>

        <!-- Avans Öde Butonu -->
        <button class="btn" onclick="openModal('avansOdeModal')">Avans Öde</button>

        <!-- Tablolar -->
        <div class="table-container">
            <h4>Maaş Özeti</h4>
            <table class="salary-table">
                <thead>
                    <tr>
                        <th>Ay</th>
                        <th>Hakediş</th>
                        <th>Ödenen</th>
                        <th>Kalan</th>
                        <th>Bordro</th>
                    </tr>
                </thead>
                <tbody id="salaryTableBody">
                    <tr>
                        <td>Ocak 2024</td>
                        <td>5000 ₺</td>
                        <td>3000 ₺</td>
                        <td>2000 ₺</td>
                        <td><a href="#"><i class="fas fa-file-pdf"></i></a></td>
                    </tr>
                    <tr>
                        <td>Şubat 2024</td>
                        <td>5200 ₺</td>
                        <td>5200 ₺</td>
                        <td>0 ₺</td>
                        <td><a href="#"><i class="fas fa-file-pdf"></i></a></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Avans Öde Modalı -->
<div class="modal" id="avansOdeModal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal('avansOdeModal')">&times;</span>
        <h2>Avans Öde</h2>
        <form id="avansOdeForm">
            <div class="form-group">
                <label for="avansAy">Ay Seçimi</label>
                <select id="avansAy" class="form-control">
                    <option value="Ocak">Ocak</option>
                    <option value="Şubat">Şubat</option>
                    <!-- Diğer aylar -->
                </select>
            </div>
            <div class="form-group">
                <label for="avansTutar">Tutar</label>
                <input type="number" id="avansTutar" class="form-control" placeholder="Avans Tutarı">
            </div>
            <div class="form-group">
                <label for="avansAciklama">Açıklama</label>
                <textarea id="avansAciklama" class="form-control" placeholder="Açıklama"></textarea>
            </div>
            <div class="form-group">
                <label for="avansDosya">Dosya Yükleme</label>
                <input type="file" id="avansDosya" class="form-control">
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn save-btn">Avansı Öde</button>
                <button type="button" class="btn cancel-btn" onclick="closeModal('avansOdeModal')">İptal</button>
            </div>
        </form>
    </div>
</div>

<!-- Maaş Öde Modalı -->
<div class="modal" id="maasOdeModal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal('maasOdeModal')">&times;</span>
        <h2>Maaş Öde</h2>
        <form id="maasOdeForm">
            <div class="form-group">
                <label for="maasAy">Maaş Ayı</label>
                <select id="maasAy" class="form-control">
                    <option value="Ocak">Ocak</option>
                    <option value="Şubat">Şubat</option>
                    <!-- Diğer aylar -->
                </select>
            </div>
            <div class="form-group">
                <label for="maasBakiye">Kalan Bakiye</label>
                <input type="number" id="maasBakiye" class="form-control" value="2000 ₺" readonly>
            </div>
            <div class="form-group">
                <label for="maasAciklama">Açıklama</label>
                <textarea id="maasAciklama" class="form-control" placeholder="Açıklama"></textarea>
            </div>
            <div class="form-group">
                <label for="maasDosya">Dosya Yükleme</label>
                <input type="file" id="maasDosya" class="form-control">
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn save-btn">Maaşı Öde</button>
                <button type="button" class="btn cancel-btn" onclick="closeModal('maasOdeModal')">İptal</button>
            </div>
        </form>
    </div>
</div>

<!-- Maaş Oluştur Modalı -->
<div class="modal" id="maasOlusturModal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal('maasOlusturModal')">&times;</span>
        <h2>Maaş Oluştur</h2>
        <form id="maasOlusturForm">
            <div class="form-group">
                <label for="maasOlusturAy">Ay Seçimi</label>
                <select id="maasOlusturAy" class="form-control">
                    <option value="Ocak">Ocak</option>
                    <option value="Şubat">Şubat</option>
                    <!-- Diğer aylar -->
                </select>
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn save-btn">Maaş Bordrosu Oluştur</button>
                <button type="button" class="btn cancel-btn" onclick="closeModal('maasOlusturModal')">İptal</button>
            </div>
        </form>
    </div>
</div>
              <!-- Ücret Yönetimi sonu -->

        <!-- Puantaj Yönetimi Tabı -->
<div class="tab-content" id="puantajYonetimi">
    <div class="tabs">
        <div class="tab active" data-tab="puantajGirisi">Puantaj Girişi</div>
        <div class="tab" data-tab="puantajRaporu">Puantaj Raporu</div>
    </div>

    <!-- Puantaj Girişi -->
    <div class="tab-content active" id="puantajGirisi">
        <h3>Puantaj Girişi</h3>
        <div class="form-group">
            <label for="puantajDate">Tarih Seçin</label>
            <input type="date" id="puantajDate" class="form-control">
        </div>
        <div class="form-group">
            <label for="normalMesai">Normal Mesai (saat)</label>
            <input type="number" id="normalMesai" class="form-control" placeholder="Normal mesai saatini girin">
        </div>
        <div class="form-group">
            <label for="fazlaMesai">Fazla Mesai (saat)</label>
            <input type="number" id="fazlaMesai" class="form-control" placeholder="Fazla mesai saatini girin">
        </div>
        <button id="puantajKaydetBtn" class="btn save-btn">Kaydet</button>
    </div>

    <!-- Puantaj Raporu -->
    <div class="tab-content" id="puantajRaporu">
        <h3>Puantaj Raporu</h3>
        <div class="form-group">
            <label for="raporAy">Ay Seçin</label>
            <input type="month" id="raporAy" class="form-control">
        </div>
        <button id="raporGoruntuleBtn" class="btn minimal-btn">Raporu Görüntüle</button>

        <table class="puantaj-table">
            <thead>
                <tr>
                    <th>Tarih</th>
                    <th>Normal Mesai (saat)</th>
                    <th>Fazla Mesai (saat)</th>
                </tr>
            </thead>
            <tbody id="puantajRaporuTableBody">
                <!-- Tablo içeriği dinamik olarak buraya eklenecek -->
            </tbody>
        </table>

        <button class="btn export-btn" onclick="exportToPDF()">PDF Export</button>
        <button class="btn export-btn" onclick="printTable()">Yazdır</button>
    </div>
</div>


<!-- Puantaj Yönetimi içeriği sonu -->
    


<script>
// Personel verileri
let personelData = [
    { name: 'Ahmet Yılmaz', department: 'Yönetim', position: 'Usta', photo: 'https://www.pngitem.com/pimgs/m/81-819673_construction-workers-safety-icons-health-and-safety-policy.png' },
    { name: 'Mehmet Kaya', department: 'Demir', position: 'İşçi', photo: 'https://www.pngitem.com/pimgs/m/81-819673_construction-workers-safety-icons-health-and-safety-policy.png' },
    { name: 'Ayşe Demir', department: 'Tünel Kalıp', position: 'Mühendis', photo: 'https://www.pngitem.com/pimgs/m/81-819673_construction-workers-safety-icons-health-and-safety-policy.png' },
];

// Sayfa yüklendiğinde personelleri göster
window.onload = function() {
    displayPersonelList();
}

// Personelleri listeleme fonksiyonu
function displayPersonelList() {
    const personelList = document.getElementById('personelList');
    personelList.innerHTML = ''; // Mevcut içerikleri temizle

    personelData.forEach(personel => {
        const personelCard = `
            <div class="personel-card" onclick="openPersonelDetails('${personel.name}')">
                <img src="${personel.photo}" alt="Personel Fotoğrafı" class="personel-photo">
                <h3>${personel.name}</h3>
                <p>${personel.department}</p>
                <p>${personel.position}</p>
            </div>
        `;
        personelList.innerHTML += personelCard;
    });
}

// Modal açma ve kapama fonksiyonu
function openModal(id) {
    document.getElementById(id).style.display = 'flex';
}

function closeModal(id) {
    document.getElementById(id).style.display = 'none';
}

// Personel Ekleme Butonu ile Modal Açma
document.getElementById('addPersonBtn').addEventListener('click', function() {
    openModal('addPersonModal');
});

// Personel Detaylarını Gösterme Fonksiyonu
function openPersonelDetails(name) {
    const personel = personelData.find(p => p.name === name);
    document.getElementById('personelName').innerText = personel.name;
    document.getElementById('personelDepartment').innerText = personel.department;
    document.getElementById('personelPosition').innerText = personel.position;
    document.getElementById('personelPhoto').src = personel.photo;

    openModal('personelDetailsModal');
}

// Personel Ekleme Fonksiyonu
document.getElementById('addPersonForm').addEventListener('submit', function(e) {
    e.preventDefault(); // Sayfa yenilenmesini engeller

    const name = document.getElementById('firstName').value + ' ' + document.getElementById('lastName').value;
    const department = document.getElementById('department').value;
    const position = document.getElementById('position').value;
    const photo = document.getElementById('profilePreview').src;

    // Yeni personeli diziye ekle
    personelData.push({ name, department, position, photo });

    // Personel listesini yeniden güncelle
    displayPersonelList();

    // Formu temizle ve modalı kapat
    document.getElementById('addPersonForm').reset();
    document.getElementById('profilePreview').src = 'https://www.pngitem.com/pimgs/m/81-819673_construction-workers-safety-icons-health-and-safety-policy.png';
    closeModal('addPersonModal');
});

// Fotoğraf yükleme işlemi
const profilePictureInput = document.getElementById('profilePicture');
profilePictureInput.addEventListener('change', function(event) {
    const file = event.target.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
            document.getElementById('profilePreview').src = e.target.result;
        };
        reader.readAsDataURL(file);
    }
});

// Dosya yükleme işlemi
const dragDropArea = document.getElementById('dragDropArea');
const fileInput = document.getElementById('documents');
const fileList = document.getElementById('fileList');

dragDropArea.addEventListener('dragover', (e) => {
    e.preventDefault();
    dragDropArea.style.borderColor = '#24d6b6';
});

dragDropArea.addEventListener('dragleave', () => {
    dragDropArea.style.borderColor = '#ddd';
});

dragDropArea.addEventListener('drop', (e) => {
    e.preventDefault();
    dragDropArea.style.borderColor = '#ddd';

    const files = e.dataTransfer.files;
    handleFileUpload(files);
});

dragDropArea.addEventListener('click', () => {
    fileInput.click();
});

fileInput.addEventListener('change', () => {
    const files = fileInput.files;
    handleFileUpload(files);
});

function handleFileUpload(files) {
    const documentType = document.getElementById('documentType').value;
    if (!documentType) {
        alert('Lütfen belge türü seçin!');
        return;
    }

    Array.from(files).forEach(file => {
        const fileItem = document.createElement('p');
        fileItem.textContent = `${documentType}: ${file.name}`;
        fileList.appendChild(fileItem);
    });

    document.getElementById('documentType').value = '';
}

// Ücret hesaplama
const dailyWageInput = document.getElementById('dailyWage');
const hourlyWageInput = document.getElementById('hourlyWage');

dailyWageInput.addEventListener('input', () => {
    const dailyWage = parseFloat(dailyWageInput.value);
    if (!isNaN(dailyWage)) {
        hourlyWageInput.value = (dailyWage / 9).toFixed(2);
    }
});


</script>
  <script>
    // Modal açma kapama fonksiyonları
    function openModal(id) {
        document.getElementById(id).style.display = 'flex';
    }

    function closeModal(id) {
        document.getElementById(id).style.display = 'none';
    }

    // Tablar arası geçiş
    document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', function() {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(tc => tc.classList.remove('active'));

            this.classList.add('active');
            document.getElementById(this.getAttribute('data-tab')).classList.add('active');
        });
    });

    // Personel düzenleme işlemi
    function editPerson() {
        // Düzenleme modalı açılabilir
        alert("Düzenleme modülüne geçilecek!");
    }

    // İşten ayrılma modalı için ek özellikler
    function openIstenAyrilmaModal() {
        openModal('istenAyrilmaModal');
    }

    // Diğer gerekli fonksiyonlar burada olacak
</script>
  <script>
// Personel verileri
let personelData = [
    { name: 'Ahmet Yılmaz', department: 'Yönetim', position: 'Usta', photo: 'https://www.pngitem.com/pimgs/m/81-819673_construction-workers-safety-icons-health-and-safety-policy.png' },
    { name: 'Mehmet Kaya', department: 'Demir', position: 'İşçi', photo: 'https://www.pngitem.com/pimgs/m/81-819673_construction-workers-safety-icons-health-and-safety-policy.png' },
    { name: 'Ayşe Demir', department: 'Tünel Kalıp', position: 'Mühendis', photo: 'https://www.pngitem.com/pimgs/m/81-819673_construction-workers-safety-icons-health-and-safety-policy.png' },
];

// Sayfa yüklendiğinde personelleri göster
window.onload = function() {
    displayPersonelList();
}

// Personelleri listeleme fonksiyonu
function displayPersonelList() {
    const personelList = document.getElementById('personelList');
    personelList.innerHTML = ''; // Mevcut içerikleri temizle

    personelData.forEach(personel => {
        const personelCard = `
            <div class="personel-card" onclick="openPersonelDetails('${personel.name}')">
                <img src="${personel.photo}" alt="Personel Fotoğrafı" class="personel-photo">
                <h3>${personel.name}</h3>
                <p>Departman: ${personel.department}</p>
                <p>Pozisyon: ${personel.position}</p>
            </div>
        `;
        personelList.innerHTML += personelCard;
    });
}

// Personel detaylarını gösteren fonksiyon
function openPersonelDetails(name) {
    const personel = personelData.find(p => p.name === name);
    
    document.getElementById('personelName').innerText = personel.name;
    document.getElementById('personelDepartment').innerText = personel.department;
    document.getElementById('personelPosition').innerText = personel.position;
    document.getElementById('personelPhoto').src = personel.photo;

    // Modalı aç
    openModal('personelDetailsModal');
}

// Modal açma fonksiyonu
function openModal(id) {
    document.getElementById(id).style.display = 'flex';
}
// Modal açma kapama fonksiyonları
function openModal(id) {
    document.getElementById(id).style.display = 'flex';
}

function closeModal(id) {
    document.getElementById(id).style.display = 'none';
}

// Avans öde formu
document.getElementById('avansOdeForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const ay = document.getElementById('avansAy').value;
    const tutar = document.getElementById('avansTutar').value;
    const aciklama = document.getElementById('avansAciklama').value;

    if (ay && tutar) {
        alert(`Avans ödendi! Ay: ${ay}, Tutar: ${tutar}₺`);
        closeModal('avansOdeModal');
        document.getElementById('avansOdeForm').reset();
    } else {
        alert("Lütfen tüm bilgileri doldurun.");
    }
});

// Maaş öde formu
document.getElementById('maasOdeForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const maasAy = document.getElementById('maasAy').value;
    const maasBakiye = document.getElementById('maasBakiye').value;
    const aciklama = document.getElementById('maasAciklama').value;

    if (maasAy && maasBakiye) {
        alert(`Maaş ödendi! Ay: ${maasAy}, Kalan Bakiye: ${maasBakiye}₺`);
        closeModal('maasOdeModal');
        document.getElementById('maasOdeForm').reset();
    } else {
        alert("Lütfen tüm bilgileri doldurun.");
    }
});

// Maaş oluştur formu
document.getElementById('maasOlusturForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const maasAy = document.getElementById('maasOlusturAy').value;

    if (maasAy) {
        alert(`Maaş bordrosu oluşturuldu! Ay: ${maasAy}`);
        closeModal('maasOlusturModal');
        document.getElementById('maasOlusturForm').reset();

        // Tabloya maaş ekleme
        const salaryTable = document.querySelector('.salary-table tbody');
        const newRow = `
            <tr>
                <td>${maasAy} 2024</td>
                <td>5000 ₺</td> <!-- Örnek veri -->
                <td>0 ₺</td>
                <td>5000 ₺</td>
                <td><a href="#"><i class="fas fa-file-pdf"></i></a></td>
            </tr>
        `;
        salaryTable.innerHTML += newRow;
    } else {
        alert("Lütfen ay seçin.");
    }
});

// Dosya yükleme işlemi (Avans ve Maaş formu için)
const fileInputs = document.querySelectorAll('input[type="file"]');
fileInputs.forEach(fileInput => {
    fileInput.addEventListener('change', function() {
        const fileList = this.files;
        if (fileList.length > 0) {
            alert(`${fileList.length} dosya yüklendi.`);
        }
    });
});

// Maaş tablosu için PDF ve Yazdırma seçenekleri
document.querySelectorAll('.fa-file-pdf').forEach(pdfIcon => {
    pdfIcon.addEventListener('click', function() {
        alert("PDF olarak indiriliyor...");
        // PDF export fonksiyonu burada olacak
    });
});
// Puantaj verileri
let puantajData = [];

// Puantaj Kaydetme
document.getElementById('puantajKaydetBtn').addEventListener('click', function() {
    const date = document.getElementById('puantajDate').value;
    const normalMesai = document.getElementById('normalMesai').value;
    const fazlaMesai = document.getElementById('fazlaMesai').value;

    if (date && normalMesai && fazlaMesai) {
        puantajData.push({ date, normalMesai, fazlaMesai });
        alert("Puantaj kaydedildi!");
        document.getElementById('puantajDate').value = '';
        document.getElementById('normalMesai').value = '';
        document.getElementById('fazlaMesai').value = '';
    } else {
        alert("Lütfen tüm alanları doldurun.");
    }
});

// Puantaj Raporunu Görüntüleme
document.getElementById('raporGoruntuleBtn').addEventListener('click', function() {
    const raporAy = document.getElementById('raporAy').value;
    if (raporAy) {
        const filteredPuantaj = puantajData.filter(p => p.date.startsWith(raporAy));
        const tableBody = document.getElementById('puantajRaporuTableBody');
        tableBody.innerHTML = ''; // Önceki verileri temizle
        filteredPuantaj.forEach(p => {
            const row = `
                <tr>
                    <td>${p.date}</td>
                    <td>${p.normalMesai}</td>
                    <td>${p.fazlaMesai}</td>
                </tr>
            `;
            tableBody.innerHTML += row;
        });
    } else {
        alert("Lütfen bir ay seçin.");
    }
});

// Yazdırma İşlevi
function printTable() {
    const content = document.querySelector('.puantaj-table').outerHTML;
    const printWindow = window.open('', '', 'height=600,width=800');
    printWindow.document.write('<html><head><title>Puantaj Raporu</title></head><body>');
    printWindow.document.write(content);
    printWindow.document.write('</body></html>');
    printWindow.document.close();
    printWindow.print();
}

// PDF Export İşlevi
function exportToPDF() {
    const table = document.querySelector('.puantaj-table');
    const doc = new jsPDF();
    doc.autoTable({ html: table });
    doc.save('Puantaj_Raporu.pdf');
}

// Örnek puantaj verileri
let puantajData = [
    { date: '2024-09-01', normalMesai: 8, fazlaMesai: 2 },
    { date: '2024-09-02', normalMesai: 9, fazlaMesai: 1 }
];

// Puantaj Kaydetme
document.getElementById('puantajKaydetBtn').addEventListener('click', function() {
    const date = document.getElementById('puantajDate').value;
    const normalMesai = document.getElementById('normalMesai').value;
    const fazlaMesai = document.getElementById('fazlaMesai').value;

    if (date && normalMesai && fazlaMesai) {
        puantajData.push({ date, normalMesai, fazlaMesai });
        alert("Puantaj kaydedildi!");
        document.getElementById('puantajDate').value = '';
        document.getElementById('normalMesai').value = '';
        document.getElementById('fazlaMesai').value = '';
    } else {
        alert("Lütfen tüm alanları doldurun.");
    }
});

// Puantaj Raporunu Görüntüleme
document.getElementById('raporGoruntuleBtn').addEventListener('click', function() {
    const raporAy = document.getElementById('raporAy').value;
    if (raporAy) {
        const filteredPuantaj = puantajData.filter(p => p.date.startsWith(raporAy));
        const tableBody = document.getElementById('puantajRaporuTableBody');
        tableBody.innerHTML = ''; // Önceki verileri temizle
        filteredPuantaj.forEach(p => {
            const row = `
                <tr>
                    <td>${p.date}</td>
                    <td>${p.normalMesai}</td>
                    <td>${p.fazlaMesai}</td>
                </tr>
            `;
            tableBody.innerHTML += row;
        });
    } else {
        alert("Lütfen bir ay seçin.");
    }
});

// Yazdırma İşlevi
function printTable() {
    const content = document.querySelector('.puantaj-table').outerHTML;
    const printWindow = window.open('', '', 'height=600,width=800');
    printWindow.document.write('<html><head><title>Puantaj Raporu</title></head><body>');
    printWindow.document.write(content);
    printWindow.document.write('</body></html>');
    printWindow.document.close();
    printWindow.print();
}

// PDF Export İşlevi
function exportToPDF() {
    const table = document.querySelector('.puantaj-table');
    const doc = new jsPDF();
    doc.autoTable({ html: table });
    doc.save('Puantaj_Raporu.pdf');
}

</script>

</body>
</html>
