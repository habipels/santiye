{% extends "homebase.html" %}
{% load i18n %}
{% load custom_tags %}
{% load static %}

{% block sidebar %}
<!-- ============================================================== -->
<div class="main-content">

    <div class="page-content">
        <div class="container-fluid">

            <div class="chat-wrapper d-lg-flex gap-1 mx-n4 mt-n4 p-1">


                <div class="file-manager-content w-100 p-4 pb-0">
                    <div class="row mb-4">
                        <div class="col-auto order-1 d-block d-lg-none">
                            <button type="button" class="btn btn-soft-success btn-icon btn-sm fs-16 file-menu-btn">
                                <i class="ri-menu-2-fill align-bottom"></i>
                            </button>
                        </div>
                        <div class="col-sm order-3 order-sm-2 mt-3 mt-sm-0">
                            <h5 class="fw-semibold mb-0">Yapılacakalar</h5>
                        </div>

                        <div class="col-auto order-2 order-sm-3 ms-auto">
                            <div class="hstack gap-2">
                                <div class="btn-group" role="group" aria-label="Basic example">
                                    <button class="btn btn-icon fw-semibold btn-soft-danger"><i
                                            class="ri-arrow-go-back-line"></i></button>
                                    <button class="btn btn-icon fw-semibold btn-soft-success"><i
                                            class="ri-arrow-go-forward-line"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-3 bg-light rounded mb-4">
                        <div class="row g-2">
                            <div class="col-lg-auto">
                                <select class="form-control" data-choices data-choices-search-false
                                    name="choices-select-sortlist" id="choices-select-sortlist">
                                    <option value="">Sort</option>
                                    <option value="By ID">By ID</option>
                                    <option value="By Name">By Name</option>
                                </select>
                            </div>
                            <div class="col-lg-auto">
                                <select class="form-control" data-choices data-choices-search-false
                                    name="choices-select-status" id="choices-select-status">
                                    <option value="">All Tasks</option>
                                    <option value="Completed">Completed</option>
                                    <option value="Inprogress">Inprogress</option>
                                    <option value="Pending">Pending</option>
                                    <option value="New">New</option>
                                </select>
                            </div>
                            <div class="col-lg">
                                <div class="search-box">
                                    <input type="text" id="searchTaskList" class="form-control search"
                                        placeholder="Search task name">
                                    <i class="ri-search-line search-icon"></i>
                                </div>
                            </div>
                            <div class="col-lg-auto">
                                <button class="btn btn-success createTask" type="button" data-bs-toggle="modal"
                                    data-bs-target="#createTask">
                                    <i class="ri-search align-bottom"></i> Ara
                                </button>
                                <button class="btn btn-primary createTask" type="button" data-bs-toggle="modal"
                                    data-bs-target="#createTask">
                                    <i class="ri-add-fill align-bottom"></i> Add Tasks
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="todo-content position-relative px-4 mx-n4" id="todo-content">
                        <div id="elmLoader">
                            
                        </div>
                        <div class="todo-task" id="todo-task">
                            <div class="table-responsive">
                                <table class="table align-middle position-relative table-nowrap">
                                    <thead class="table-active">
                                        <tr>
                                            <th scope="col">Task Name</th>
                                            <th scope="col">Assigned</th>
                                            <th scope="col">Due Date</th>
                                            <th scope="col">Status</th>
                                            <th scope="col">Priority</th>
                                            <th scope="col">Action</th>
                                        </tr>
                                    </thead>

                                    <tbody id="task-list">
                                        <tr>
                                            <td>
                                                <div class="d-flex align-items-start">
                                                    
                                                    <div class="flex-grow-1">
                                                        <div class="form-check"> <input class="form-check-input"
                                                                type="checkbox" value="15" id="todo15"> <label
                                                                class="form-check-label" for="todo15">Added
                                                                Select2</label> </div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="avatar-group flex-nowrap"><a href="javascript: void(0);"
                                                        class="avatar-group-item"
                                                        data-img="assets/images/users/avatar-1.jpg"
                                                        data-bs-toggle="tooltip" data-bs-placement="top"
                                                        data-bs-title="Curtis Saenz"> <img
                                                            src="assets/images/users/avatar-1.jpg" alt=""
                                                            class="rounded-circle avatar-xxs"> </a><a
                                                        href="javascript: void(0);" class="avatar-group-item"
                                                        data-img="assets/images/users/avatar-3.jpg"
                                                        data-bs-toggle="tooltip" data-bs-placement="top"
                                                        data-bs-title="John Robles"> <img
                                                            src="assets/images/users/avatar-3.jpg" alt=""
                                                            class="rounded-circle avatar-xxs"> </a></div>
                                            </td>
                                            <td>23 Apr, 2022</td>
                                            <td><span
                                                    class="badge bg-warning-subtle text-warning text-uppercase">Pending</span>
                                            </td>
                                            <td><span class="badge bg-danger text-uppercase">High</span></td>
                                            <td>
                                                <div class="hstack gap-2"> <button
                                                        class="btn btn-sm btn-soft-danger remove-list"
                                                        data-bs-toggle="modal" data-bs-target="#removeTaskItemModal"
                                                        data-remove-id="15"><i
                                                            class="ri-delete-bin-5-fill align-bottom"></i></button>
                                                    <button class="btn btn-sm btn-soft-info edit-list"
                                                        data-bs-toggle="modal" data-bs-target="#createTask"
                                                        data-edit-id="15"><i
                                                            class="ri-pencil-fill align-bottom"></i></button> </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                    </div>

                </div>
            </div>

        </div>
         <!-- Modal -->
    <div class="modal fade" id="createTask" tabindex="-1" aria-labelledby="createTaskLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0">
                <div class="modal-header p-3 bg-success-subtle">
                    <h5 class="modal-title" id="createTaskLabel">Create Task</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" id="createTaskBtn-close" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="task-error-msg" class="alert alert-danger py-2"></div>
                    <form class="tablelist-form" action="{% url 'main:yapilacalar_ekle' %}" method="post" enctype="multipart/form-data" >
                        {% csrf_token %}
                        <input type="hidden" id="taskid-input" class="form-control">
                        <div class="mb-3">
                            <label for="task-title-input" class="form-label">Başlık Ekle</label>
                            <input type="text" name="baslik" id="task-title-input" class="form-control" placeholder="Enter task title">
                        </div>
                        <div class="mb-3">
                            <label for="email-field" class="form-label">Açıklama</label>
                            <textarea name="aciklama" class="form-control" placeholder="Enter Description" ></textarea>
                            <div class="invalid-feedback">Please enter an email.</div>
                        </div>
                        <div class="row g-4 mb-3">
                            <div class="col-lg-6">
                                <label for="task-status" class="form-label">Durum</label>
                                <select name="durum" class="form-control" data-choices data-choices-search-false id="task-status-input">
                                    <option value="">Status</option>
                                    <option value="New" selected>New</option>
                                    <option value="Inprogress">Inprogress</option>
                                    <option value="Pending">Pending</option>
                                    <option value="Completed">Completed</option>
                                </select>
                            </div>
                            <!--end col-->
                            <div class="col-lg-6">
                                <label for="priority-field" class="form-label">Priority</label>
                                <select name="aciliyet" class="form-control" data-choices data-choices-search-false id="priority-field">
                                    <option value="">Priority</option>
                                    <option value="High">High</option>
                                    <option value="Medium">Medium</option>
                                    <option value="Low">Low</option>
                                </select>
                            </div>
                            <!--end col-->
                        </div>
                        <div>
                            <label for="status-field" class="form-label">Kişiler</label>
                            <select name="blogbilgisi" class="form-control" data-trigger multiple name="status-field" id="status-field" required>
                                <option value=""></option>
                                {% for blog in blog_bilgisi %}
                                <option value="{{ blog.id }}">{{ blog.proje_santiye_Ait.proje_adi }}: {{blog.blog_adi}}{{blog.blog_numarasi}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="mb-4">
                            <label for="task-duedate-input" class="form-label">Due Date:</label>
                            <input type="date" name="teslim_tarihi" id="task-duedate-input" class="form-control" placeholder="Due date">
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title mb-0">Dosya Yükle</h4>
                                    </div><!-- end card header -->
                                
                                    <div class="card-body">
                                        <p class="text-muted">Yüklemek istediğiniz dosyayı sürükle bırak yöntemi ile yada direk dosya seçerek yükleyebilirsiniz.</p>
                                    
                                        <div class="dropzone">
                                            <div class="fallback">
                                                <input name="file" type="file" multiple="multiple">
                                            </div>
                                            <div class="dz-message needsclick">
                                                <div class="mb-3">
                                                    <i class="display-4 text-muted ri-upload-cloud-2-fill"></i>
                                                </div>
                                            
                                                <h4>Drop files here or click to upload.</h4>
                                            </div>
                                        </div>
                                    
                                        <ul class="list-unstyled mb-0" id="dropzone-preview">
                                            <li class="mt-2" id="dropzone-preview-list">
                                                <!-- This is used as the file preview template -->
                                                <div class="border rounded">
                                                    <div class="d-flex p-2">
                                                        <div class="flex-shrink-0 me-3">
                                                            <div class="avatar-sm bg-light rounded">
                                                                <img data-dz-thumbnail class="img-fluid rounded d-block" src="assets/images/new-document.png" alt="Dropzone-Image" />
                                                            </div>
                                                        </div>
                                                        <div class="flex-grow-1">
                                                            <div class="pt-1">
                                                                <h5 class="fs-14 mb-1" data-dz-name>&nbsp;</h5>
                                                                <p class="fs-13 text-muted mb-0" data-dz-size></p>
                                                                <strong class="error text-danger" data-dz-errormessage></strong>
                                                            </div>
                                                        </div>
                                                        <div class="flex-shrink-0 ms-3">
                                                            <button data-dz-remove class="btn btn-sm btn-danger">Delete</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                        <!-- end dropzon-preview -->
                                    </div>
                                    <!-- end card body -->
                                </div>
                                <!-- end card -->
                            </div> <!-- end col -->
                        </div>
                        <div class="hstack gap-2 justify-content-end">
                            <button type="button" class="btn btn-ghost-success" data-bs-dismiss="modal"><i class="ri-close-fill align-bottom"></i> Close</button>
                            <button type="submit" class="btn btn-primary" id="addNewTodo">Add Task</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!--end create taks-->
        <!-- container-fluid -->
    </div>
    <!-- End Page-content -->


</div>
<!-- end main content-->

{% endblock sidebar %}