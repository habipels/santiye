{% block javascriptcodeadd %}


<!--Multi Select Date Calender-->
<script>

      $('input[name="daterange"]').daterangepicker({
        opens: 'left'
      }, function(start, end, label) {
        console.log("A new date selection was made: " + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD'));
      });

</script>
<style>
.custom-toast-container {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1050;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease, transform 0.3s ease;
    transform: translate(-50%, -60%);
}

.custom-toast-container.show {
    opacity: 1;
    transform: translate(-50%, -50%);
}

.custom-toast {
    background-color: #013744;
    color: #ffffff;
    padding: 20px 25px;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    max-width: 350px;
    display: flex;
    align-items: center;
}

.custom-toast-icon {
    font-size: 30px;
    margin-right: 15px;
    color: #ffcc00; /* İkon rengi */
}

.custom-toast-content {
    display: flex;
    flex-direction: column;
}

.custom-toast-content strong {
    font-size: 18px;
    margin-bottom: 5px;
}

.custom-toast-content p {
    margin: 0;
    font-size: 14px;
    color: #d3d3d3; /* Açık gri metin rengi */
}

    .ui-menu-item-wrapper:hover{
        background-color: white !important;
        color: black;
    }
    .ui-menu-item-wrapper{
    background-color:  orange !important;
    max-width: 400px !important;
    z-index: 999 !important;
    font-size: 15px !important;
    list-style: none; color: white;
    }
    </style>
<script src="{% static 'assets/js/pages/satis-ekle.js '%}"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
         <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>


{% if hash_bilgi %}
                                                    

    <script>

       function enableAutocompleteForNewItems() {
    function hesaplama_islemi(){
        var brimtutar = document.querySelectorAll(".bfiyatInput");
        var miktar = document.querySelectorAll(".miktarInput");
        var ana_toplam = document.querySelectorAll(".toplamInput");
        var indirim = document.querySelectorAll(".indirim"); // Düzeltildi: indiirm yerine indirim
        var indirim_toplam = 0;

        for (var u = 0; u < brimtutar.length; u++) {
            ana_toplam[u].value = (parseFloat(miktar[u].value) * parseFloat(brimtutar[u].value)).toFixed(2);
        }

        var islem_sonucu = 0;
        var aratoplam = document.querySelector(".aratoplam");
        for (var u = 0; u < ana_toplam.length; u++) {
            islem_sonucu += parseFloat(ana_toplam[u].value);
        }

        for (var u = 0; u < indirim.length; u++) {
            indirim_toplam += parseFloat(indirim[u].value);
        }

        aratoplam.textContent = islem_sonucu.toFixed(2) + " $";
        document.querySelector(".odenecektutar").textContent = (islem_sonucu ).toFixed(2) + " $";
    }

    $('.den').autocomplete({
        source: "/{{dil}}{% url 'accounting:search_2' hashler %}",
        minLength: 2,
        select: function(event, ui) {
            var id = this.id;
            $(this).val(ui.item.label);
            $(this).siblings().val(ui.item.label);
            id = id.replace("searchInput", "bfiyatInput");
            document.getElementById(id).value = ui.item.value;
            hesaplama_islemi();
            return false;
        }
    }).data('ui-autocomplete')._renderItem = function(ul, item) {
        return $('<li>')
            .append('<div>' + item.label + '  ' + item.value + ' USD</div>')
            .appendTo(ul);
    };
}

$(document).ready(function(){
    enableAutocompleteForNewItems();

    $(document).on('click', '.addNewItem span', function() {
        var newItem = $('<input>').addClass('den');
        $('.container').append(newItem);
        enableAutocompleteForNewItems();
    });


    // Diğer kodlarınız buraya gelebilir...
});
$(document).ready(function(){
    $('.cari').autocomplete({
                source: "/{{dil}}{% url 'accounting:cariler_bilgisi_2' hashler %}",
                minLength: 2,
                select: function(event, ui) {
                    $('.cari').val(ui.item.label); // Seçilen ürün adını input alanına ekleyin

                    return false;
                }
            }).data('ui-autocomplete')._renderItem = function(ul, item) {
                return $('<li>')
                    .append('<div>' + item.label + '<br>' + item.value + '</div>')// Görünümü özelleştirin (ürün adı ve birim fiyat)
                    .appendTo(ul);
            };
        });

/*

*/
       function hesaplama_islemi(){
        var brimtutar = document.querySelectorAll(".bfiyatInput");
        var miktar = document.querySelectorAll(".miktarInput");
        var ana_toplam = document.querySelectorAll(".toplamInput");
        var indirim = document.querySelectorAll(".indirim"); // Düzeltildi: indiirm yerine indirim
        var indirim_toplam = 0;

        for (var u = 0; u < brimtutar.length; u++) {
            ana_toplam[u].value = (parseFloat(miktar[u].value) * parseFloat(brimtutar[u].value)).toFixed(2);
        }

        var islem_sonucu = 0;
        var aratoplam = document.querySelector(".aratoplam");
        for (var u = 0; u < ana_toplam.length; u++) {
            islem_sonucu += parseFloat(ana_toplam[u].value);
        }

        for (var u = 0; u < indirim.length; u++) {
            indirim_toplam += parseFloat(indirim[u].value);
        }

        aratoplam.textContent = islem_sonucu.toFixed(2) + " $";
        document.querySelector(".odenecektutar").textContent = (islem_sonucu ).toFixed(2) + " $";
    }

    </script>
<style>
  .item-label{
    font-size: 15px !important;
  }
</style>
<script>


    $(document).ready(function () {
        $("#ekle").click(function (event) {
            var tur = $("#tur").val(),
                adi = $("#adi").val(),
                aciklama = $("#aciklama").val(),
                renk = $("#renk").val();

            $.ajax({
                type: "POST",
                url: "/{{dil}}{% url 'accounting:gider_gelir_ekleme' %}",
                data: {
                    tur: tur,
                    adi: adi,
                    aciklama: aciklama,
                    renk: renk,
                    csrfmiddlewaretoken: '{{ csrf_token }}'
                },
                success: function (data) {
                    $("#kategori").load(window.location.href + " #kategori");
                }
            });
            return false;
        });
    });
    $(document).ready(function () {
  $("#ekle2").click(function (event) {
    tur2 = $("#tur2").val(),
    adi2 = $("#etiket_ismi_gonder").val(),

    $.ajax({
      type: "POST",
      url: "/{{dil}}{% url 'accounting:gider_gelir_etiketekleme' %}",
      data: {
        tur2: tur2,
        adi2:adi2,
        csrfmiddlewaretoken: '{{ csrf_token }}'
      },
      success: function (data) {

        $("#etkett").load(window.location.href + " #etkett", function() {
        multiSelectInstance = initializeMultiSelectTag() });

      }
    });
    return false; //<---- move it here
  });
});

</script>
{% else %}
                                                     

    <script>

       function enableAutocompleteForNewItems() {
    function hesaplama_islemi(){
        var brimtutar = document.querySelectorAll(".bfiyatInput");
        var miktar = document.querySelectorAll(".miktarInput");
        var ana_toplam = document.querySelectorAll(".toplamInput");
        var indirim = document.querySelectorAll(".indirim"); // Düzeltildi: indiirm yerine indirim
        var indirim_toplam = 0;

        for (var u = 0; u < brimtutar.length; u++) {
            ana_toplam[u].value = (parseFloat(miktar[u].value) * parseFloat(brimtutar[u].value)).toFixed(2);
        }

        var islem_sonucu = 0;
        var aratoplam = document.querySelector(".aratoplam");
        for (var u = 0; u < ana_toplam.length; u++) {
            islem_sonucu += parseFloat(ana_toplam[u].value);
        }

        for (var u = 0; u < indirim.length; u++) {
            indirim_toplam += parseFloat(indirim[u].value);
        }

        aratoplam.textContent = islem_sonucu.toFixed(2) + " $";
        document.querySelector(".odenecektutar").textContent = (islem_sonucu ).toFixed(2) + " $";
    }

    $('.den').autocomplete({
        source: '/accounting/search/',
        minLength: 2,
        select: function(event, ui) {
            var id = this.id;
            $(this).val(ui.item.label);
            $(this).siblings().val(ui.item.label);
            id = id.replace("searchInput", "bfiyatInput");
            document.getElementById(id).value = ui.item.value;
            hesaplama_islemi();
            return false;
        }
    }).data('ui-autocomplete')._renderItem = function(ul, item) {
        return $('<li>')
            .append('<div>' + item.label + '  ' + item.value + ' USD</div>')
            .appendTo(ul);
    };
}

$(document).ready(function(){
    enableAutocompleteForNewItems();

    $(document).on('click', '.addNewItem span', function() {
        var newItem = $('<input>').addClass('den');
        $('.container').append(newItem);
        enableAutocompleteForNewItems();
    });


    // Diğer kodlarınız buraya gelebilir...
});
$(document).ready(function(){
    $('.cari').autocomplete({
                source: '/accounting/cari/',
                minLength: 2,
                select: function(event, ui) {
                    $('.cari').val(ui.item.label); // Seçilen ürün adını input alanına ekleyin

                    return false;
                }
            }).data('ui-autocomplete')._renderItem = function(ul, item) {
                return $('<li>')
                    .append('<div>' + item.label + '<br>' + item.value + '</div>')// Görünümü özelleştirin (ürün adı ve birim fiyat)
                    .appendTo(ul);
            };
        });

/*
$(document).ready(function(){
    $('.den').each(function() {
        $(this).keyup(function() {
            $(this).autocomplete({
                source: '/accounting/search/',
                minLength: 2,
                select: function(event, ui) {
                    $('#searchInput').val(ui.item.label); // Seçilen ürün adını input alanına ekleyin
                    $('.bfiyatInput').val(ui.item.value); // Seçilen ürünün birim fiyatını otomatik olarak doldurun
                    $('.bfiyatInput').trigger('input'); // İkinci input alanının değişiklik eventini tetikle
                    return false;
                }
            }).data('ui-autocomplete')._renderItem = function(ul, item) {
                return $('<li>')
                    .append('<div>' + item.label + '<br>' + item.value + ' USD</div>') // Görünümü özelleştirin (ürün adı ve birim fiyat)
                    .appendTo(ul);
            };
        });

    $('.bfiyatInput').on('input', function(){
        // Birim fiyat alanına değer girildiğinde, bu değeri autocomplete sonuçlarında da göstermek için gizli bir input alanına atayın
        $('#hiddenBfiyatInput').val($(this).val());
    });
});
*/
       function hesaplama_islemi(){
        var brimtutar = document.querySelectorAll(".bfiyatInput");
        var miktar = document.querySelectorAll(".miktarInput");
        var ana_toplam = document.querySelectorAll(".toplamInput");
        var indirim = document.querySelectorAll(".indirim"); // Düzeltildi: indiirm yerine indirim
        var indirim_toplam = 0;

        for (var u = 0; u < brimtutar.length; u++) {
            ana_toplam[u].value = (parseFloat(miktar[u].value) * parseFloat(brimtutar[u].value)).toFixed(2);
        }

        var islem_sonucu = 0;
        var aratoplam = document.querySelector(".aratoplam");
        for (var u = 0; u < ana_toplam.length; u++) {
            islem_sonucu += parseFloat(ana_toplam[u].value);
        }

        for (var u = 0; u < indirim.length; u++) {
            indirim_toplam += parseFloat(indirim[u].value);
        }

        aratoplam.textContent = islem_sonucu.toFixed(2) + " $";
        document.querySelector(".odenecektutar").textContent = (islem_sonucu ).toFixed(2) + " $";
    }

    </script>
<style>
  .item-label{
    font-size: 15px !important;
  }
</style>
<script>





    $(document).ready(function () {
        $("#ekle").click(function (event) {
            var tur = $("#tur").val(),
                adi = $("#adi").val(),
                aciklama = $("#aciklama").val(),
                renk = $("#renk").val();

            $.ajax({
                type: "POST",
                url: "/{{dil}}{% url 'accounting:gider_gelir_ekleme' %}",
                data: {
                    tur: tur,
                    adi: adi,
                    aciklama: aciklama,
                    renk: renk,
                    csrfmiddlewaretoken: '{{ csrf_token }}'
                },
                success: function (data) {
                    $("#kategori").load(window.location.href + " #kategori");
                }
            });
            return false;
        });
    });
    $(document).ready(function () {
  $("#ekle2").click(function (event) {
    tur2 = $("#tur2").val(),
    adi2 = $("#etiket_ismi_gonder").val(),

    $.ajax({
      type: "POST",
      url: "/{{dil}}{% url 'accounting:gider_gelir_etiketekleme' %}",
      data: {
        tur2: tur2,
        adi2:adi2,
        csrfmiddlewaretoken: '{{ csrf_token }}'
      },
      success: function (data) {

        $("#etkett").load(window.location.href + " #etkett", function() {
        multiSelectInstance = initializeMultiSelectTag() });

      }
    });
    return false; //<---- move it here
  });
});

</script>
{% endif %}


{% endblock javascriptcodeadd %}